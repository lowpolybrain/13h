{"version":3,"file":"index.js","sources":["../../preloadImages.ts"],"sourcesContent":["import { Image } from '@13h/image';\n\ntype OnProgress = (image: Image, index: number, totalSuccess: number) => void;\n\nexport const preloadImages = (images: Image[], onFinish: (images: Image[]) => void, onProgress?: OnProgress) => {\n  let loaded = 0;\n  for (let i = 0; i < images.length; i++) {\n    const image = images[i];\n    image.onLoad(function () {\n      loaded += 1;\n      if (onProgress) {\n        onProgress(image, i, loaded);\n      }\n      if (loaded === images.length) {\n        onFinish(images);\n      }\n    });\n  }\n};\n"],"names":[],"mappings":";;;;MAIa,aAAa,GAAG,CAAC,MAAe,EAAE,QAAmC,EAAE,UAAuB;IACzG,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACtC,MAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACxB,KAAK,CAAC,MAAM,CAAC;YACX,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,UAAU,EAAE;gBACd,UAAU,CAAC,KAAK,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;aAC9B;YACD,IAAI,MAAM,KAAK,MAAM,CAAC,MAAM,EAAE;gBAC5B,QAAQ,CAAC,MAAM,CAAC,CAAC;aAClB;SACF,CAAC,CAAC;KACJ;AACH;;;;"}